<!doctype html>
<html lang="id">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prediksi Angka</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      box-sizing: border-box;
      height: 100%;
    }
    
    html {
      height: 100%;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease-out;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    .pulse-animation {
      animation: pulse 0.6s ease-in-out;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="min-h-full p-4" style="background-color: #0f172a; color: #f1f5f9;">
  <main class="w-full max-w-6xl mx-auto">
   <div class="text-center mb-8">
    <h1 id="main-title" class="text-5xl font-bold mb-3" style="color: #f1f5f9;">Prediksi Angka</h1>
    <p id="subtitle" class="text-xl" style="color: #f1f5f9;">Analisis Kepala-Ekor &amp; BBFS</p>
   </div>
   <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6"><!-- Tabel Kepala-Ekor -->
    <div class="rounded-2xl shadow-2xl p-8" style="background-color: #1e293b;">
     <h2 id="table-title" class="text-2xl font-bold mb-6 text-center" style="color: #f1f5f9;">Tabel Kepala - Ekor</h2>
     <div class="overflow-x-auto">
      <table class="w-full border-collapse">
       <thead>
        <tr>
         <th class="px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Hasil</th>
         <th class="px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">BBFS</th>
        </tr>
       </thead>
       <tbody id="data-table">
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">1</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">90652178</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">2</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">10367289</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">3</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">21478903</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">4</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">24895130</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">5</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">34906125</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">6</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">45107236</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">7</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">65218347</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">8</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">76239458</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">9</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">87340569</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">0</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">98451670</td>
        </tr>
       </tbody>
      </table>
     </div>
    </div><!-- Tabel AS -->
    <div class="rounded-2xl shadow-2xl p-8" style="background-color: #1e293b;">
     <h2 id="as-table-title" class="text-2xl font-bold mb-6 text-center" style="color: #f1f5f9;">Tabel AS</h2>
     <div class="overflow-x-auto">
      <table class="w-full border-collapse">
       <thead>
        <tr>
         <th class="px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">AS</th>
         <th class="px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">BBFS</th>
        </tr>
       </thead>
       <tbody id="as-data-table">
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">1</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">23456790</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">2</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">12345680</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">3</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">12356789</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">4</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">23457890</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">5</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">12357890</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">6</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">13467809</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">7</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">34567890</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">8</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">12567890</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">9</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">23467890</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">0</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">34506789</td>
        </tr>
       </tbody>
      </table>
     </div>
    </div><!-- Tabel AS Kuat -->
    <div class="rounded-2xl shadow-2xl p-8" style="background-color: #1e293b;">
     <h2 id="as-kuat-table-title" class="text-2xl font-bold mb-6 text-center" style="color: #f1f5f9;">Tabel AS Kuat</h2>
     <div class="overflow-x-auto">
      <table class="w-full border-collapse">
       <thead>
        <tr>
         <th class="px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">AS</th>
         <th class="px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">AS Kuat</th>
        </tr>
       </thead>
       <tbody id="as-kuat-data-table">
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">1</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">6509</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">2</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">7610</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">3</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">8271</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">4</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">9823</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">5</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">9340</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">6</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">1045</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">7</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">2165</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">8</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">3276</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">9</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">3487</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">0</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">4598</td>
        </tr>
       </tbody>
      </table>
     </div>
    </div><!-- Tabel KOP Kuat -->
    <div class="rounded-2xl shadow-2xl p-8" style="background-color: #1e293b;">
     <h2 id="kop-kuat-table-title" class="text-2xl font-bold mb-6 text-center" style="color: #f1f5f9;">Tabel KOP Kuat</h2>
     <div class="overflow-x-auto">
      <table class="w-full border-collapse">
       <thead>
        <tr>
         <th class="px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">KOP</th>
         <th class="px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">KOP Kuat</th>
        </tr>
       </thead>
       <tbody id="kop-kuat-data-table">
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">1</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">456123</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">2</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">567234</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">3</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">678345</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">4</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">789456</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">5</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">890567</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">6</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">901678</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">7</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">120789</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">8</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">123890</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">9</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">234901</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">0</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">345120</td>
        </tr>
       </tbody>
      </table>
     </div>
    </div><!-- Tabel Jumlah Biji -->
    <div class="rounded-2xl shadow-2xl p-8" style="background-color: #1e293b;">
     <h2 id="jumlah-table-title" class="text-2xl font-bold mb-6 text-center" style="color: #f1f5f9;">Tabel Jumlah Biji</h2>
     <div class="overflow-x-auto">
      <table class="w-full border-collapse">
       <thead>
        <tr>
         <th class="px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Jumlah</th>
         <th class="px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">BBFS</th>
        </tr>
       </thead>
       <tbody id="jumlah-data-table">
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">1</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">214679</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">2</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">230578</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">3</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">134689</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">4</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">245790</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">5</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">356081</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">6</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">126749</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">7</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">273580</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">8</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">384916</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">9</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">945027</td>
        </tr>
       </tbody>
      </table>
     </div>
    </div><!-- Tabel Patokan Ekor -->
    <div class="rounded-2xl shadow-2xl p-8" style="background-color: #1e293b;">
     <h2 id="ekor-patokan-title" class="text-2xl font-bold mb-6 text-center" style="color: #f1f5f9;">Tabel Patokan Angka Main</h2>
     <div class="overflow-x-auto">
      <table class="w-full border-collapse">
       <thead>
        <tr>
         <th class="px-3 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Ekor</th>
         <th class="px-3 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Angka Main</th>
         <th class="px-3 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Angka Main 2</th>
         <th class="px-3 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">CRASS</th>
        </tr>
       </thead>
       <tbody id="ekor-patokan-table">
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">1</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">240157</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">678901</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">107</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">2</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">680135</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">789012</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">801</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">3</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">246379</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">890123</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">239</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">4</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">480357</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">901234</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">340</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">5</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">468159</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">012345</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">145</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">6</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">260579</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">123456</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">256</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">7</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">680137</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">234567</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">367</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">8</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">248179</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">345678</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">478</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">9</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">280359</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">456789</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">589</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">0</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">460139</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">567890</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">906</td>
        </tr>
       </tbody>
      </table>
     </div>
    </div><!-- Tabel Hari Angka Main -->
    <div class="rounded-2xl shadow-2xl p-8" style="background-color: #1e293b;">
     <h2 id="hari-angka-title" class="text-2xl font-bold mb-6 text-center" style="color: #f1f5f9;">Tabel Hari - Angka Main</h2>
     <div class="overflow-x-auto">
      <table class="w-full border-collapse">
       <thead>
        <tr>
         <th class="px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Hari</th>
         <th class="px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Angka Main</th>
        </tr>
       </thead>
       <tbody id="hari-angka-table">
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">Senin</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">12560</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">Selasa</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">27389</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">Rabu</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">49506</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">Kamis</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">12367</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">Jumat</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">34890</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">Sabtu</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">50617</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">Minggu</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">27348</td>
        </tr>
       </tbody>
      </table>
     </div>
    </div><!-- Tabel Shio -->
    <div class="rounded-2xl shadow-2xl p-8" style="background-color: #1e293b;">
     <h2 id="shio-table-title" class="text-2xl font-bold mb-6 text-center" style="color: #f1f5f9;">Tabel Shio Result - Shio Main</h2>
     <div class="overflow-x-auto">
      <table class="w-full border-collapse">
       <thead>
        <tr>
         <th class="px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Shio Result</th>
         <th class="px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Shio Main</th>
        </tr>
       </thead>
       <tbody id="shio-data-table">
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">1</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">6, 11, 2, 4, 9</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">2</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">6, 8, 12, 7, 10, 5</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">3</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">8, 10, 1, 7, 9, 4, 6, 11</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">4</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">2, 8, 10, 1, 9, 12, 7</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">5</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">12, 7, 9, 11, 8, 1</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">6</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">4, 12, 1, 11, 2, 7</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">7</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">2, 4, 12, 1, 5, 9, 10</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">8</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">2, 6, 1, 3, 4, 9, 11</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">9</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">2, 3, 4, 7, 11, 1</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">10</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">2, 3, 4, 5, 8, 1</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">11</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">3, 4, 5, 9, 2, 7, 12</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-4 py-3 font-semibold" style="color: #f1f5f9;">12</td>
         <td class="px-4 py-3 font-mono text-sm" style="color: #f1f5f9;">5, 6, 7, 9, 10, 3, 8</td>
        </tr>
       </tbody>
      </table>
     </div>
    </div><!-- Tabel Pasaran SGP -->
    <div class="rounded-2xl shadow-2xl p-8" style="background-color: #1e293b;">
     <h2 id="sgp-table-title" class="text-2xl font-bold mb-6 text-center" style="color: #f1f5f9;">Tabel Pasaran SGP</h2>
     <div class="overflow-x-auto">
      <table class="w-full border-collapse">
       <thead>
        <tr>
         <th class="px-3 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Hari</th>
         <th class="px-3 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Pon</th>
         <th class="px-3 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Wage</th>
         <th class="px-3 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Kliwon</th>
         <th class="px-3 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Legi</th>
         <th class="px-3 py-3 text-left text-xs font-bold uppercase tracking-wider border-b-2" style="color: #f1f5f9; border-color: #64748b;">Pahing</th>
        </tr>
       </thead>
       <tbody id="sgp-data-table">
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">Senin</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">89102</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">67890</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">23456</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">12340</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">67890</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">Rabu</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">90123</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">89012</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">67890</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">56789</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">34567</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">Kamis</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">67890</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">23456</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">45678</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">12340</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">23456</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">Sabtu</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">34567</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">67890</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">23456</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">56789</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">12345</td>
        </tr>
        <tr class="border-b" style="border-color: #64748b;">
         <td class="px-3 py-3 font-semibold" style="color: #f1f5f9;">Minggu</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">56789</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">12340</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">12340</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">56789</td>
         <td class="px-3 py-3 font-mono text-sm" style="color: #f1f5f9;">56789</td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
   </div><!-- Form Input -->
   <div class="rounded-2xl shadow-2xl p-8 mb-6" style="background-color: #1e293b;">
    <h2 id="input-title" class="text-2xl font-bold mb-6 text-center" style="color: #f1f5f9;">Input Angka Prediksi</h2>
    <form id="prediction-form" class="max-w-2xl mx-auto">
     <div class="grid grid-cols-4 gap-4 mb-6">
      <div><label for="as-input" class="block text-sm font-semibold mb-2 text-center uppercase tracking-wide" style="color: #f1f5f9;">AS</label> <input type="text" id="as-input" maxlength="1" class="w-full px-4 py-3 rounded-lg text-center text-2xl font-bold border-2 focus:outline-none focus:ring-2 transition-all" placeholder="0" style="background-color: #1e293b; color: #f1f5f9; border-color: #64748b;">
      </div>
      <div><label for="kop-input" class="block text-sm font-semibold mb-2 text-center uppercase tracking-wide" style="color: #f1f5f9;">KOP</label> <input type="text" id="kop-input" maxlength="1" class="w-full px-4 py-3 rounded-lg text-center text-2xl font-bold border-2 focus:outline-none focus:ring-2 transition-all" placeholder="0" style="background-color: #1e293b; color: #f1f5f9; border-color: #64748b;">
      </div>
      <div><label for="kepala-input" class="block text-sm font-semibold mb-2 text-center uppercase tracking-wide" style="color: #f1f5f9;">KEPALA</label> <input type="text" id="kepala-input" maxlength="1" class="w-full px-4 py-3 rounded-lg text-center text-2xl font-bold border-2 focus:outline-none focus:ring-2 transition-all" placeholder="0" style="background-color: #1e293b; color: #f1f5f9; border-color: #64748b;">
      </div>
      <div><label for="ekor-input" class="block text-sm font-semibold mb-2 text-center uppercase tracking-wide" style="color: #f1f5f9;">EKOR</label> <input type="text" id="ekor-input" maxlength="1" class="w-full px-4 py-3 rounded-lg text-center text-2xl font-bold border-2 focus:outline-none focus:ring-2 transition-all" placeholder="0" style="background-color: #1e293b; color: #f1f5f9; border-color: #64748b;">
      </div>
     </div>
     <div class="mb-6"><label for="date-input" class="block text-sm font-semibold mb-2 text-center uppercase tracking-wide" style="color: #f1f5f9;">Tanggal Prediksi</label> <input type="date" id="date-input" class="w-full px-4 py-3 rounded-lg text-center text-lg font-bold border-2 focus:outline-none focus:ring-2 transition-all" style="background-color: #1e293b; color: #f1f5f9; border-color: #64748b;">
      <div class="text-xs text-center mt-2" style="color: #64748b;">
       Hari dan Pasaran Jawa akan otomatis disesuaikan
      </div>
     </div>
     <div class="mb-6"><label for="shio-input" class="block text-sm font-semibold mb-2 text-center uppercase tracking-wide" style="color: #f1f5f9;">Shio Result (1-12)</label> <input type="text" id="shio-input" maxlength="2" class="w-full px-4 py-3 rounded-lg text-center text-2xl font-bold border-2 focus:outline-none focus:ring-2 transition-all" placeholder="Masukkan Shio 1-12" style="background-color: #1e293b; color: #f1f5f9; border-color: #64748b;">
      <div class="text-xs text-center mt-2" style="color: #64748b;">
       Opsional: Kosongkan jika tidak ingin filter berdasarkan shio
      </div>
     </div>
     <div class="text-center"><button type="submit" id="submit-btn" class="px-8 py-4 rounded-xl font-bold text-lg shadow-lg transform transition-all duration-200 hover:scale-105 active:scale-95" style="background-color: #3b82f6; color: #f1f5f9;"> <span id="submit-text">âœ¨ Hitung Prediksi</span> </button>
     </div>
    </form>
   </div><!-- Hasil Prediksi -->
   <div id="result-container" class="rounded-2xl shadow-2xl p-8 hidden" style="background-color: #1e293b;">
    <h3 id="result-label" class="text-2xl font-bold mb-6 text-center" style="color: #f1f5f9;">Hasil Perhitungan</h3>
    <div id="result-content"></div>
   </div>
  </main>
  <script>
    const defaultConfig = {
      background_color: "#0f172a",
      surface_color: "#1e293b",
      text_color: "#f1f5f9",
      primary_action_color: "#3b82f6",
      secondary_action_color: "#64748b",
      main_title: "Prediksi Angka",
      subtitle: "Analisis Kepala-Ekor & BBFS",
      table_title: "Tabel Kepala - Ekor",
      input_title: "Input Angka Prediksi",
      submit_button: "âœ¨ Hitung Prediksi",
      prediction_button: "ðŸŽ² Generate Prediksi",
      result_label: "Hasil Perhitungan",
      font_family: "system-ui",
      font_size: 16
    };

    const data = [
      { hasil: 1, bbfs: "90652178" },
      { hasil: 2, bbfs: "10367289" },
      { hasil: 3, bbfs: "21478903" },
      { hasil: 4, bbfs: "24895130" },
      { hasil: 5, bbfs: "34906125" },
      { hasil: 6, bbfs: "45107236" },
      { hasil: 7, bbfs: "65218347" },
      { hasil: 8, bbfs: "76239458" },
      { hasil: 9, bbfs: "87340569" },
      { hasil: 0, bbfs: "98451670" }
    ];

    const asData = [
      { as: 1, bbfs: "23456790" },
      { as: 2, bbfs: "12345680" },
      { as: 3, bbfs: "12356789" },
      { as: 4, bbfs: "23457890" },
      { as: 5, bbfs: "12357890" },
      { as: 6, bbfs: "13467809" },
      { as: 7, bbfs: "34567890" },
      { as: 8, bbfs: "12567890" },
      { as: 9, bbfs: "23467890" },
      { as: 0, bbfs: "34506789" }
    ];

    const jumlahData = [
      { jumlah: 1, bbfs: "214679" },
      { jumlah: 2, bbfs: "230578" },
      { jumlah: 3, bbfs: "134689" },
      { jumlah: 4, bbfs: "245790" },
      { jumlah: 5, bbfs: "356081" },
      { jumlah: 6, bbfs: "126749" },
      { jumlah: 7, bbfs: "273580" },
      { jumlah: 8, bbfs: "384916" },
      { jumlah: 9, bbfs: "945027" }
    ];

    const patokanEkorData = [
      { ekor: 1, angkaMain: "240157", angkaMain2: "678901", crass: "107" },
      { ekor: 2, angkaMain: "680135", angkaMain2: "789012", crass: "801" },
      { ekor: 3, angkaMain: "246379", angkaMain2: "890123", crass: "239" },
      { ekor: 4, angkaMain: "480357", angkaMain2: "901234", crass: "340" },
      { ekor: 5, angkaMain: "468159", angkaMain2: "012345", crass: "145" },
      { ekor: 6, angkaMain: "260579", angkaMain2: "123456", crass: "256" },
      { ekor: 7, angkaMain: "680137", angkaMain2: "234567", crass: "367" },
      { ekor: 8, angkaMain: "248179", angkaMain2: "345678", crass: "478" },
      { ekor: 9, angkaMain: "280359", angkaMain2: "456789", crass: "589" },
      { ekor: 0, angkaMain: "460139", angkaMain2: "567890", crass: "906" }
    ];

    const patokanKepalaData = [
      { kepala: 1, angkaMain: "240157", angkaMain2: "678901", crass: "107" },
      { kepala: 2, angkaMain: "680135", angkaMain2: "789012", crass: "801" },
      { kepala: 3, angkaMain: "246379", angkaMain2: "890123", crass: "239" },
      { kepala: 4, angkaMain: "480357", angkaMain2: "901234", crass: "340" },
      { kepala: 5, angkaMain: "468159", angkaMain2: "012345", crass: "145" },
      { kepala: 6, angkaMain: "260579", angkaMain2: "123456", crass: "256" },
      { kepala: 7, angkaMain: "680137", angkaMain2: "234567", crass: "367" },
      { kepala: 8, angkaMain: "248179", angkaMain2: "345678", crass: "478" },
      { kepala: 9, angkaMain: "280359", angkaMain2: "456789", crass: "589" },
      { kepala: 0, angkaMain: "460139", angkaMain2: "567890", crass: "906" }
    ];

    const shioData = [
      { result: 1, main: [6, 11, 2, 4, 9] },
      { result: 2, main: [6, 8, 12, 7, 10, 5] },
      { result: 3, main: [8, 10, 1, 7, 9, 4, 6, 11] },
      { result: 4, main: [2, 8, 10, 1, 9, 12, 7] },
      { result: 5, main: [12, 7, 9, 11, 8, 1] },
      { result: 6, main: [4, 12, 1, 11, 2, 7] },
      { result: 7, main: [2, 4, 12, 1, 5, 9, 10] },
      { result: 8, main: [2, 6, 1, 3, 4, 9, 11] },
      { result: 9, main: [2, 3, 4, 7, 11, 1] },
      { result: 10, main: [2, 3, 4, 5, 8, 1] },
      { result: 11, main: [3, 4, 5, 9, 2, 7, 12] },
      { result: 12, main: [5, 6, 7, 9, 10, 3, 8] }
    ];

    const pasaranData = {
      'Pon': { jawa: '16273', china: '83490', jarakLemah: '64-84' },
      'Wage': { jawa: '49506', china: '16273', jarakLemah: '23-43' },
      'Kliwon': { jawa: '27384', china: '50617', jarakLemah: '15-35' },
      'Legi': { jawa: '50617', china: '27348', jarakLemah: '72-92' },
      'Pahing': { jawa: '34895', china: '94051', jarakLemah: '48-68' }
    };

    const sgpData = {
      'Senin': { 'Pon': '89102', 'Wage': '67890', 'Kliwon': '23456', 'Legi': '12340', 'Pahing': '67890' },
      'Rabu': { 'Pon': '90123', 'Wage': '89012', 'Kliwon': '67890', 'Legi': '56789', 'Pahing': '34567' },
      'Kamis': { 'Pon': '67890', 'Wage': '23456', 'Kliwon': '45678', 'Legi': '12340', 'Pahing': '23456' },
      'Sabtu': { 'Pon': '34567', 'Wage': '67890', 'Kliwon': '23456', 'Legi': '56789', 'Pahing': '12345' },
      'Minggu': { 'Pon': '56789', 'Wage': '12340', 'Kliwon': '12340', 'Legi': '56789', 'Pahing': '56789' }
    };

    function handleFormSubmit(e) {
      e.preventDefault();
      
      const as = document.getElementById('as-input').value;
      const kop = document.getElementById('kop-input').value;
      const kepala = document.getElementById('kepala-input').value;
      const ekor = document.getElementById('ekor-input').value;
      
      if (!as || !kop || !kepala || !ekor) {
        showMessage('Mohon isi semua kotak angka!', 'error');
        return;
      }
      
      if (!/^\d$/.test(as) || !/^\d$/.test(kop) || !/^\d$/.test(kepala) || !/^\d$/.test(ekor)) {
        showMessage('Hanya angka 0-9 yang diperbolehkan!', 'error');
        return;
      }
      
      // Hitung KEPALA - EKOR (ambil digit terakhir)
      let hasil = parseInt(kepala) - parseInt(ekor);
      hasil = Math.abs(hasil) % 10;
      
      // Hitung Jumlah Biji (4 angka): AS + KOP + KEPALA + EKOR
      const sumAll = parseInt(as) + parseInt(kop) + parseInt(kepala) + parseInt(ekor);
      let jumlahBiji4 = sumAll % 10;
      // Jika hasil 0, bulatkan menjadi 1
      if (jumlahBiji4 === 0) jumlahBiji4 = 1;
      
      // Hitung Jumlah Biji (2 angka): KEPALA + EKOR (ambil digit terakhir)
      const sum2D = parseInt(kepala) + parseInt(ekor);
      let jumlahBiji2 = sum2D % 10;
      // Jika hasil 0, bulatkan menjadi 1
      if (jumlahBiji2 === 0) jumlahBiji2 = 1;
      
      // Hitung Jumlah KOP + KEPALA + EKOR
      const sumKKE = parseInt(kop) + parseInt(kepala) + parseInt(ekor);
      let jumlahKKE = sumKKE % 10;
      // Jika hasil 0, bulatkan menjadi 1
      if (jumlahKKE === 0) jumlahKKE = 1;
      
      // Cari BBFS
      const matchedData = data.find(d => d.hasil === hasil);
      const bbfsKepalaEkor = matchedData ? matchedData.bbfs : 'Tidak ditemukan';
      
      const matchedAsData = asData.find(d => d.as === parseInt(as));
      const bbfsAs = matchedAsData ? matchedAsData.bbfs : 'Tidak ditemukan';
      
      const matchedJumlah4Data = jumlahData.find(d => d.jumlah === jumlahBiji4);
      const bbfsJumlah4 = matchedJumlah4Data ? matchedJumlah4Data.bbfs : 'Tidak ditemukan';
      
      const matchedJumlah2Data = jumlahData.find(d => d.jumlah === jumlahBiji2);
      const bbfsJumlah2 = matchedJumlah2Data ? matchedJumlah2Data.bbfs : 'Tidak ditemukan';
      
      const matchedJumlahKKEData = jumlahData.find(d => d.jumlah === jumlahKKE);
      const bbfsJumlahKKE = matchedJumlahKKEData ? matchedJumlahKKEData.bbfs : 'Tidak ditemukan';
      
      // Perbandingan Angka Dasar (AS)
      const inputDigits = [as, kop, kepala, ekor];
      const bbfsArrays = inputDigits.map(digit => {
        const match = asData.find(d => d.as === parseInt(digit));
        return match ? match.bbfs.split('') : [];
      });
      
      // Cari angka yang muncul di semua BBFS
      const commonDigits = bbfsArrays[0].filter(digit => 
        bbfsArrays.every(arr => arr.includes(digit))
      );
      const uniqueCommon = [...new Set(commonDigits)].sort().join('');
      
      // Kalender Jawa - gunakan tanggal dari input atau hari ini
      const dateInput = document.getElementById('date-input').value;
      const today = dateInput ? new Date(dateInput + 'T00:00:00') : new Date();
      
      const dayNames = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu'];
      const pasaranNames = ['Kliwon', 'Legi', 'Pahing', 'Pon', 'Wage'];
      const wukuNames = ['Sinta', 'Landep', 'Wukir', 'Kurantil', 'Tolu', 'Gumbreg', 'Warigalit', 'Warigagung', 'Julungwangi', 'Sungsang', 'Galungan', 'Kuningan', 'Langkir', 'Medangsia', 'Pujut', 'Pahang', 'Krulut', 'Merakih', 'Tambir', 'Medangkungan', 'Matal', 'Uye', 'Menail', 'Prangbakat', 'Bala', 'Ugu', 'Wayang', 'Kulawu', 'Dukut', 'Watugunung'];
      
      const dayOfWeek = dayNames[today.getDay()];
      
      // Hitung pasaran Jawa berdasarkan referensi tanggalan.com
      // Referensi: 8 November 2025 = Sabtu Wage (sudah diverifikasi dengan tanggalan.com)
      const epochDate = new Date(2025, 10, 8); // 8 November 2025 (bulan 10 = November, karena index mulai dari 0)
      const daysSinceEpoch = Math.floor((today - epochDate) / (1000 * 60 * 60 * 24));
      
      // Pasaran berputar setiap 5 hari: Kliwon, Legi, Pahing, Pon, Wage
      // 8 Nov 2025 adalah Wage (index 4), jadi kita mulai dari sana
      const pasaranIndex = ((daysSinceEpoch + 4) % 5 + 5) % 5;
      const pasaran = pasaranNames[pasaranIndex];
      
      // Wuku berputar setiap 210 hari (30 wuku x 7 hari)
      // 1 Jan 2023 adalah Wuku Sinta (index 0)
      const wukuIndex = Math.floor(((daysSinceEpoch % 210) + 210) % 210 / 7);
      const wuku = wukuNames[wukuIndex];
      
      // Ambil angka pasaran
      const pasaranAngka = pasaranData[pasaran] || { jawa: '-', china: '-' };
      
      // Ambil angka SGP berdasarkan hari dan pasaran
      const sgpAngka = (sgpData[dayOfWeek] && sgpData[dayOfWeek][pasaran]) ? sgpData[dayOfWeek][pasaran] : '-';
      
      // Data Hari Angka Main
      const hariAngkaData = {
        'Senin': '12560',
        'Selasa': '27389',
        'Rabu': '49506',
        'Kamis': '12367',
        'Jumat': '34890',
        'Sabtu': '50617',
        'Minggu': '27348'
      };
      
      // Ambil angka main berdasarkan hari
      const hariAngkaMain = hariAngkaData[dayOfWeek] || '-';
      
      // Hitung jumlah angka (digit terakhir dari penjumlahan semua digit)
      const sumHariAngka = hariAngkaMain.split('').reduce((sum, digit) => sum + parseInt(digit), 0);
      const jumlahHariAngka = sumHariAngka % 10;
      
      // Kalender China
      const chineseZodiac = ['Tikus', 'Kerbau', 'Macan', 'Kelinci', 'Naga', 'Ular', 'Kuda', 'Kambing', 'Monyet', 'Ayam', 'Anjing', 'Babi'];
      const chineseElements = ['Logam', 'Air', 'Kayu', 'Api', 'Tanah'];
      const yearZodiac = chineseZodiac[(today.getFullYear() - 4) % 12];
      const yearElement = chineseElements[Math.floor(((today.getFullYear() - 4) % 10) / 2)];
      
      // Angka Harian (berdasarkan tanggal)
      const dateSum = today.getDate() + (today.getMonth() + 1) + today.getFullYear();
      const dailyNumber = dateSum % 10 || 1;
      const dailyLucky = ((today.getDate() * (today.getMonth() + 1)) % 10).toString() + ((today.getFullYear() % 100) % 10).toString();
      
      // Data AS Kuat dan KOP Kuat
      const asKuatData = [
        { as: 1, kuat: "6509" },
        { as: 2, kuat: "7610" },
        { as: 3, kuat: "8271" },
        { as: 4, kuat: "9823" },
        { as: 5, kuat: "9340" },
        { as: 6, kuat: "1045" },
        { as: 7, kuat: "2165" },
        { as: 8, kuat: "3276" },
        { as: 9, kuat: "3487" },
        { as: 0, kuat: "4598" }
      ];
      
      const kopKuatData = [
        { kop: 1, kuat: "456123" },
        { kop: 2, kuat: "567234" },
        { kop: 3, kuat: "678345" },
        { kop: 4, kuat: "789456" },
        { kop: 5, kuat: "890567" },
        { kop: 6, kuat: "901678" },
        { kop: 7, kuat: "120789" },
        { kop: 8, kuat: "123890" },
        { kop: 9, kuat: "234901" },
        { kop: 0, kuat: "345120" }
      ];
      
      // Ambil AS Kuat dan KOP Kuat
      const asKuatMatch = asKuatData.find(d => d.as === parseInt(as));
      const asKuatDigits = asKuatMatch ? asKuatMatch.kuat.split('') : [];
      
      const kopKuatMatch = kopKuatData.find(d => d.kop === parseInt(kop));
      const kopKuatDigits = kopKuatMatch ? kopKuatMatch.kuat.split('') : [];
      
      // Ambil angka dari Tabel AS untuk setiap digit input
      const bbfsForCalc = bbfsAs.split('');
      
      // Ambil patokan angka main berdasarkan ekor dan kepala
      const patokanEkor = patokanEkorData.find(d => d.ekor === parseInt(ekor));
      const patokanKepala = patokanKepalaData.find(d => d.kepala === parseInt(kepala));
      
      // Gabungkan semua angka main untuk pangkasan
      const angkaMainEkor = patokanEkor ? (patokanEkor.angkaMain + patokanEkor.angkaMain2 + patokanEkor.crass).split('') : [];
      const angkaMainKepala = patokanKepala ? (patokanKepala.angkaMain + patokanKepala.angkaMain2 + patokanKepala.crass).split('') : [];
      
      // Ambil angka main dari Jawa, China, Harian, dan SGP
      const angkaMainJawa = pasaranAngka.jawa.split('');
      const angkaMainChina = pasaranAngka.china.split('');
      const angkaMainHarian = hariAngkaMain.split('');
      const angkaMainSGP = sgpAngka !== '-' ? sgpAngka.split('') : [];
      
      // Gabungkan SEMUA angka main untuk filter pangkasan
      const allAngkaMain = [...new Set([
        ...angkaMainEkor, 
        ...angkaMainKepala,
        ...angkaMainJawa,
        ...angkaMainChina,
        ...angkaMainHarian,
        ...angkaMainSGP
      ])];
      
      // Fungsi untuk cek apakah angka memiliki minimal 1 digit dari angka main
      function hasMatchingDigit(number, filterDigits) {
        const numDigits = number.split('');
        return numDigits.some(digit => filterDigits.includes(digit));
      }
      
      // Fungsi untuk menghitung shio dari angka 2D
      function getShioFrom2D(number) {
        const num = parseInt(number);
        const shio = num % 12;
        return shio === 0 ? 12 : shio;
      }
      
      // Fungsi untuk menghitung shio dari angka 3D/4D (ambil 2 digit terakhir)
      function getShioFromNumber(number) {
        const last2Digits = number.slice(-2);
        return getShioFrom2D(last2Digits);
      }
      
      // Fungsi untuk cek apakah shio result cocok dengan shio main
      function isShioMatch(number, shioMainList) {
        const shioResult = getShioFromNumber(number);
        return shioMainList.includes(shioResult);
      }
      
      // Fungsi untuk cek apakah angka dalam jarak lemah
      function isInJarakLemah(number, jarakLemah) {
        if (!jarakLemah) return false;
        
        const [start, end] = jarakLemah.split('-').map(n => parseInt(n));
        const last2Digits = parseInt(number.slice(-2));
        
        // Cek apakah angka dalam rentang jarak lemah
        if (start <= end) {
          return last2Digits >= start && last2Digits <= end;
        } else {
          // Jika rentang melewati 99 ke 00 (misalnya 92-12)
          return last2Digits >= start || last2Digits <= end;
        }
      }
      
      // Generate 2D (Kepala-Ekor) - semua kombinasi dari BBFS AS
      const combinations2DAll = [];
      for (let i = 0; i < bbfsForCalc.length; i++) {
        for (let j = 0; j < bbfsForCalc.length; j++) {
          combinations2DAll.push(bbfsForCalc[i] + bbfsForCalc[j]);
        }
      }
      const combinations2DUnique = [...new Set(combinations2DAll)];
      
      // Ambil input shio
      const shioInput = document.getElementById('shio-input').value;
      let shioMainList = [];
      let shioFilterActive = false;
      
      if (shioInput && /^\d{1,2}$/.test(shioInput)) {
        const shioResult = parseInt(shioInput);
        if (shioResult >= 1 && shioResult <= 12) {
          const shioMatch = shioData.find(s => s.result === shioResult);
          if (shioMatch) {
            shioMainList = shioMatch.main;
            shioFilterActive = true;
          }
        }
      }
      
      // Pangkas 2D berdasarkan angka main
      let combinations2D = combinations2DUnique.filter(num => hasMatchingDigit(num, allAngkaMain));
      
      // Filter berdasarkan shio jika aktif
      if (shioFilterActive) {
        combinations2D = combinations2D.filter(num => isShioMatch(num, shioMainList));
      }
      
      // Filter berdasarkan jarak lemah
      const jarakLemah = pasaranAngka.jarakLemah;
      combinations2D = combinations2D.filter(num => !isInJarakLemah(num, jarakLemah));
      
      // Format 2D dengan * tanpa spasi
      const result2D = combinations2D.join('*');
      
      // Simpan kombinasi 2D untuk filter
      originalCombinations['2d'] = [...combinations2D];
      
      // Generate 3D (KOP-Kepala-Ekor) - filter KOP berdasarkan KOP Kuat
      const combinations3DAll = [];
      for (let i = 0; i < kopKuatDigits.length; i++) {
        for (let j = 0; j < bbfsForCalc.length; j++) {
          for (let k = 0; k < bbfsForCalc.length; k++) {
            combinations3DAll.push(kopKuatDigits[i] + bbfsForCalc[j] + bbfsForCalc[k]);
          }
        }
      }
      const combinations3DUnique = [...new Set(combinations3DAll)];
      
      // Pangkas 3D berdasarkan angka main
      let combinations3D = combinations3DUnique.filter(num => hasMatchingDigit(num, allAngkaMain));
      
      // Filter berdasarkan shio jika aktif
      if (shioFilterActive) {
        combinations3D = combinations3D.filter(num => isShioMatch(num, shioMainList));
      }
      
      // Filter berdasarkan jarak lemah
      combinations3D = combinations3D.filter(num => !isInJarakLemah(num, jarakLemah));
      
      // Format 3D: 8 angka per baris dengan * tanpa spasi
      const formatted3D = [];
      for (let i = 0; i < combinations3D.length; i += 8) {
        formatted3D.push(combinations3D.slice(i, i + 8).join('*'));
      }
      const result3D = formatted3D.join('\n');
      
      // Simpan kombinasi 3D untuk filter
      originalCombinations['3d'] = [...combinations3D];
      
      // Generate 4D (AS-KOP-Kepala-Ekor) - filter AS berdasarkan AS Kuat, KOP berdasarkan KOP Kuat
      const combinations4DAll = [];
      for (let i = 0; i < asKuatDigits.length; i++) {
        for (let j = 0; j < kopKuatDigits.length; j++) {
          for (let k = 0; k < bbfsForCalc.length; k++) {
            for (let l = 0; l < bbfsForCalc.length; l++) {
              combinations4DAll.push(asKuatDigits[i] + kopKuatDigits[j] + bbfsForCalc[k] + bbfsForCalc[l]);
            }
          }
        }
      }
      const combinations4DUnique = [...new Set(combinations4DAll)];
      
      // Pangkas 4D berdasarkan angka main
      let combinations4D = combinations4DUnique.filter(num => hasMatchingDigit(num, allAngkaMain));
      
      // Filter berdasarkan shio jika aktif
      if (shioFilterActive) {
        combinations4D = combinations4D.filter(num => isShioMatch(num, shioMainList));
      }
      
      // Filter berdasarkan jarak lemah
      combinations4D = combinations4D.filter(num => !isInJarakLemah(num, jarakLemah));
      
      // Format 4D: 6 angka per baris dengan * tanpa spasi
      const formatted4D = [];
      for (let i = 0; i < combinations4D.length; i += 6) {
        formatted4D.push(combinations4D.slice(i, i + 6).join('*'));
      }
      const result4D = formatted4D.join('\n');
      
      // Simpan kombinasi 4D untuk filter
      originalCombinations['4d'] = [...combinations4D];
      
      // Tampilkan hasil
      const resultContainer = document.getElementById('result-container');
      const resultContent = document.getElementById('result-content');
      
      resultContent.innerHTML = `
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <div class="rounded-xl p-6 text-center" style="background-color: #64748b;">
            <div class="text-sm font-semibold mb-2 uppercase tracking-wide" style="color: #f1f5f9;">Input Angka</div>
            <div class="text-4xl font-bold" style="color: #f1f5f9;">${as}${kop}${kepala}${ekor}</div>
          </div>
          <div class="rounded-xl p-6 text-center" style="background-color: #64748b;">
            <div class="text-sm font-semibold mb-2 uppercase tracking-wide" style="color: #f1f5f9;">Kepala - Ekor</div>
            <div class="text-4xl font-bold" style="color: #f1f5f9;">${kepala} - ${ekor} = ${hasil}</div>
          </div>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
          <div class="rounded-xl p-6 text-center" style="background-color: #64748b;">
            <div class="text-sm font-semibold mb-2 uppercase tracking-wide" style="color: #f1f5f9;">Jumlah Biji (4 angka)</div>
            <div class="text-2xl font-bold mb-2" style="color: #f1f5f9;">${as} + ${kop} + ${kepala} + ${ekor} = ${jumlahBiji4}</div>
          </div>
          <div class="rounded-xl p-6 text-center" style="background-color: #64748b;">
            <div class="text-sm font-semibold mb-2 uppercase tracking-wide" style="color: #f1f5f9;">Jumlah Biji (2 angka)</div>
            <div class="text-2xl font-bold mb-2" style="color: #f1f5f9;">${kepala} + ${ekor} = ${jumlahBiji2}</div>
          </div>
          <div class="rounded-xl p-6 text-center" style="background-color: #64748b;">
            <div class="text-sm font-semibold mb-2 uppercase tracking-wide" style="color: #f1f5f9;">Jumlah KOP+Kepala+Ekor</div>
            <div class="text-2xl font-bold mb-2" style="color: #f1f5f9;">${kop} + ${kepala} + ${ekor} = ${jumlahKKE}</div>
          </div>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <div class="rounded-xl p-6 text-center" style="background-color: #3b82f6;">
            <div class="text-sm font-semibold mb-2 uppercase tracking-wide" style="color: #f1f5f9;">BBFS Kepala-Ekor</div>
            <div class="text-2xl font-bold font-mono" style="color: #f1f5f9;">${bbfsKepalaEkor}</div>
          </div>
          <div class="rounded-xl p-6 text-center" style="background-color: #3b82f6;">
            <div class="text-sm font-semibold mb-2 uppercase tracking-wide" style="color: #f1f5f9;">BBFS AS</div>
            <div class="text-2xl font-bold font-mono" style="color: #f1f5f9;">${bbfsAs}</div>
          </div>
          <div class="rounded-xl p-6 text-center" style="background-color: #3b82f6;">
            <div class="text-sm font-semibold mb-2 uppercase tracking-wide" style="color: #f1f5f9;">BBFS Jumlah (4 angka)</div>
            <div class="text-2xl font-bold font-mono" style="color: #f1f5f9;">${bbfsJumlah4}</div>
          </div>
          <div class="rounded-xl p-6 text-center" style="background-color: #3b82f6;">
            <div class="text-sm font-semibold mb-2 uppercase tracking-wide" style="color: #f1f5f9;">BBFS Jumlah (2 angka)</div>
            <div class="text-2xl font-bold font-mono" style="color: #f1f5f9;">${bbfsJumlah2}</div>
          </div>
          <div class="rounded-xl p-6 text-center" style="background-color: #3b82f6;">
            <div class="text-sm font-semibold mb-2 uppercase tracking-wide" style="color: #f1f5f9;">BBFS Jumlah KKE</div>
            <div class="text-2xl font-bold font-mono" style="color: #f1f5f9;">${bbfsJumlahKKE}</div>
          </div>
        </div>
        
        <div class="rounded-xl p-6 mb-6" style="background-color: #10b981;">
          <div class="text-lg font-bold mb-3 text-center uppercase tracking-wide" style="color: #f1f5f9;">ðŸŽ¯ Angka Irisan (Perbandingan AS)</div>
          <div class="text-center mb-3">
            <div class="text-sm mb-2" style="color: #f1f5f9;">AS=${as}: ${bbfsArrays[0].join('')} | KOP=${kop}: ${bbfsArrays[1].join('')}</div>
            <div class="text-sm mb-2" style="color: #f1f5f9;">Kepala=${kepala}: ${bbfsArrays[2].join('')} | Ekor=${ekor}: ${bbfsArrays[3].join('')}</div>
          </div>
          <div class="text-center">
            <div class="text-sm font-semibold mb-2 uppercase" style="color: #f1f5f9;">Angka Yang Sama di Semua Posisi:</div>
            <div class="text-4xl font-bold font-mono" style="color: #f1f5f9;">${uniqueCommon || 'Tidak ada'}</div>
          </div>
        </div>
        
        <div class="rounded-xl p-6 mb-6" style="background-color: #8b5cf6;">
          <div class="text-lg font-bold mb-4 text-center uppercase tracking-wide" style="color: #f1f5f9;">ðŸ“Š Patokan Angka Main</div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="text-center p-4 rounded-lg" style="background-color: rgba(255,255,255,0.1);">
              <div class="text-sm font-semibold mb-2 uppercase" style="color: #f1f5f9;">Berdasarkan Ekor ${ekor}</div>
              <div class="text-xs mb-1" style="color: #f1f5f9;">Angka Main: ${patokanEkor ? patokanEkor.angkaMain : '-'}</div>
              <div class="text-xs mb-1" style="color: #f1f5f9;">Angka Main 2: ${patokanEkor ? patokanEkor.angkaMain2 : '-'}</div>
              <div class="text-xs" style="color: #f1f5f9;">CRASS: ${patokanEkor ? patokanEkor.crass : '-'}</div>
            </div>
            <div class="text-center p-4 rounded-lg" style="background-color: rgba(255,255,255,0.1);">
              <div class="text-sm font-semibold mb-2 uppercase" style="color: #f1f5f9;">Berdasarkan Kepala ${kepala}</div>
              <div class="text-xs mb-1" style="color: #f1f5f9;">Angka Main: ${patokanKepala ? patokanKepala.angkaMain : '-'}</div>
              <div class="text-xs mb-1" style="color: #f1f5f9;">Angka Main 2: ${patokanKepala ? patokanKepala.angkaMain2 : '-'}</div>
              <div class="text-xs" style="color: #f1f5f9;">CRASS: ${patokanKepala ? patokanKepala.crass : '-'}</div>
            </div>
          </div>
          <div class="text-center mt-4 p-3 rounded-lg" style="background-color: rgba(255,255,255,0.15);">
            <div class="text-sm font-semibold mb-2 uppercase" style="color: #f1f5f9;">Filter Pangkasan Gabungan</div>
            <div class="text-lg font-bold font-mono" style="color: #f1f5f9;">${allAngkaMain.sort().join(', ')}</div>
            <div class="text-xs mt-2" style="color: #f1f5f9;">Sumber: Patokan Ekor + Patokan Kepala + Angka Jawa + Angka China + Angka Harian + Angka SGP</div>
            <div class="text-xs mt-1" style="color: #f1f5f9;">Kombinasi harus memiliki minimal 1 digit dari angka di atas</div>
          </div>
        </div>
        
        <div class="rounded-xl p-6 mb-6" style="background-color: #10b981;">
          <div class="text-lg font-bold mb-4 text-center uppercase tracking-wide" style="color: #f1f5f9;">ðŸŽ¯ Angka SGP ${dayOfWeek} ${pasaran}</div>
          <div class="text-center">
            <div class="text-sm font-semibold mb-2 uppercase" style="color: #f1f5f9;">Angka Main SGP</div>
            <div class="text-4xl font-bold font-mono" style="color: #f1f5f9;">${sgpAngka}</div>
          </div>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <div class="rounded-xl p-6" style="background-color: #f59e0b;">
            <div class="text-lg font-bold mb-3 text-center uppercase tracking-wide" style="color: #f1f5f9;">ðŸ“… Kalender Jawa</div>
            <div class="space-y-2 text-center">
              <div class="text-sm" style="color: #f1f5f9;"><strong>Hari:</strong> ${dayOfWeek} ${pasaran}</div>
              <div class="text-sm" style="color: #f1f5f9;"><strong>Wuku:</strong> ${wuku}</div>
              <div class="text-sm" style="color: #f1f5f9;"><strong>Tanggal:</strong> ${today.getDate()}/${today.getMonth()+1}/${today.getFullYear()}</div>
            </div>
          </div>
          
          <div class="rounded-xl p-6" style="background-color: #ef4444;">
            <div class="text-lg font-bold mb-3 text-center uppercase tracking-wide" style="color: #f1f5f9;">ðŸ‰ Kalender China</div>
            <div class="space-y-2 text-center">
              <div class="text-sm" style="color: #f1f5f9;"><strong>Shio Tahun:</strong> ${yearZodiac}</div>
              <div class="text-sm" style="color: #f1f5f9;"><strong>Elemen:</strong> ${yearElement}</div>
              <div class="text-sm" style="color: #f1f5f9;"><strong>Tahun:</strong> ${today.getFullYear()}</div>
            </div>
          </div>
        </div>
        
        <div class="rounded-xl p-6 mb-6" style="background-color: #06b6d4;">
          <div class="text-lg font-bold mb-4 text-center uppercase tracking-wide" style="color: #f1f5f9;">ðŸŽ´ Angka Pasaran ${pasaran}</div>
          <div class="grid grid-cols-2 gap-6 mb-4">
            <div class="text-center">
              <div class="text-sm font-semibold mb-2 uppercase" style="color: #f1f5f9;">Angka Jawa</div>
              <div class="text-3xl font-bold font-mono" style="color: #f1f5f9;">${pasaranAngka.jawa}</div>
            </div>
            <div class="text-center">
              <div class="text-sm font-semibold mb-2 uppercase" style="color: #f1f5f9;">Angka China</div>
              <div class="text-3xl font-bold font-mono" style="color: #f1f5f9;">${pasaranAngka.china}</div>
            </div>
          </div>
          <div class="text-center p-4 rounded-lg" style="background-color: rgba(255,255,255,0.15);">
            <div class="text-sm font-semibold mb-2 uppercase" style="color: #f1f5f9;">ðŸš« Jarak Lemah 2D</div>
            <div class="text-2xl font-bold font-mono" style="color: #f1f5f9;">${jarakLemah}</div>
            <div class="text-xs mt-2" style="color: #f1f5f9;">Angka dalam rentang ini tidak ditampilkan di kombinasi 2D, 3D, dan 4D</div>
          </div>
        </div>
        
        <div class="rounded-xl p-6 mb-6" style="background-color: #a855f7;">
          <div class="text-lg font-bold mb-4 text-center uppercase tracking-wide" style="color: #f1f5f9;">ðŸ“† Angka Hari ${dayOfWeek}</div>
          <div class="grid grid-cols-2 gap-6">
            <div class="text-center">
              <div class="text-sm font-semibold mb-2 uppercase" style="color: #f1f5f9;">Angka Main</div>
              <div class="text-3xl font-bold font-mono" style="color: #f1f5f9;">${hariAngkaMain}</div>
            </div>
            <div class="text-center">
              <div class="text-sm font-semibold mb-2 uppercase" style="color: #f1f5f9;">Jumlah Angka</div>
              <div class="text-3xl font-bold font-mono" style="color: #f1f5f9;">${jumlahHariAngka}</div>
            </div>
          </div>
        </div>
        
        <div class="rounded-xl p-6 mb-6" style="background-color: #8b5cf6;">
          <div class="text-lg font-bold mb-3 text-center uppercase tracking-wide" style="color: #f1f5f9;">âœ¨ Angka Harian</div>
          <div class="grid grid-cols-2 gap-4">
            <div class="text-center">
              <div class="text-sm font-semibold mb-1" style="color: #f1f5f9;">Angka Hari Ini</div>
              <div class="text-3xl font-bold" style="color: #f1f5f9;">${dailyNumber}</div>
            </div>
            <div class="text-center">
              <div class="text-sm font-semibold mb-1" style="color: #f1f5f9;">Angka Keberuntungan</div>
              <div class="text-3xl font-bold" style="color: #f1f5f9;">${dailyLucky}</div>
            </div>
          </div>
        </div>
        
        ${shioFilterActive ? `
        <div class="rounded-xl p-6 mb-6" style="background-color: #f59e0b;">
          <div class="text-lg font-bold mb-3 text-center uppercase tracking-wide" style="color: #f1f5f9;">ðŸ‰ Filter Shio Aktif</div>
          <div class="text-center">
            <div class="text-sm mb-2" style="color: #f1f5f9;"><strong>Shio Result:</strong> ${shioInput}</div>
            <div class="text-sm mb-2" style="color: #f1f5f9;"><strong>Shio Main:</strong> ${shioMainList.join(', ')}</div>
            <div class="text-xs mt-2" style="color: #f1f5f9;">Kombinasi 2D, 3D, dan 4D telah difilter berdasarkan shio main</div>
          </div>
        </div>
        ` : ''}
        
        <div class="rounded-xl p-6 mb-6" style="background-color: #ec4899;">
          <div class="text-lg font-bold mb-4 text-center uppercase tracking-wide" style="color: #f1f5f9;">ðŸŽ² Kombinasi 2D (Setelah Pangkasan)</div>
          <div class="text-center mb-4">
            <div class="text-sm font-semibold mb-2" style="color: #f1f5f9;">Berdasarkan BBFS AS + Filter Angka Main${shioFilterActive ? ' + Filter Shio' : ''} + Jarak Lemah ${jarakLemah}</div>
            <div class="text-sm font-semibold mb-3" style="color: #f1f5f9;">Total: <span id="count-2d">${combinations2D.length}</span> angka (dari ${combinations2DUnique.length} sebelum pangkas)</div>
            <div class="mb-4">
              <label for="filter-2d" class="block text-sm font-semibold mb-2" style="color: #f1f5f9;">Filter Angka Main Tambahan (pisahkan dengan koma)</label>
              <input type="text" id="filter-2d" placeholder="Contoh: 1,2,3,4,5" class="w-full max-w-md mx-auto px-4 py-2 rounded-lg text-center border-2 focus:outline-none focus:ring-2" style="background-color: #f1f5f9; color: #ec4899; border-color: #f1f5f9;">
              <button onclick="applyFilter('2d')" class="mt-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all hover:opacity-80" style="background-color: #f1f5f9; color: #ec4899;">
                ðŸ” Terapkan Filter
              </button>
            </div>
            <button onclick="copyToClipboard(document.getElementById('result-2d').value, '2D')" class="px-4 py-2 rounded-lg font-semibold text-sm transition-all hover:opacity-80 mr-2" style="background-color: #f1f5f9; color: #ec4899;">
              ðŸ“‹ Salin Kombinasi 2D
            </button>
          </div>
          <div class="text-center">
            <textarea id="result-2d" readonly class="w-full h-40 px-4 py-3 rounded-lg text-sm font-mono border-2 resize-none focus:outline-none" style="background-color: rgba(255,255,255,0.1); color: #f1f5f9; border-color: #f1f5f9;">${result2D}</textarea>
          </div>
        </div>
        
        <div class="rounded-xl p-6 mb-6" style="background-color: #14b8a6;">
          <div class="text-lg font-bold mb-4 text-center uppercase tracking-wide" style="color: #f1f5f9;">ðŸŽ² Kombinasi 3D (Setelah Pangkasan)</div>
          <div class="text-center mb-4">
            <div class="text-sm font-semibold mb-2" style="color: #f1f5f9;">Filter KOP Kuat + Filter Angka Main${shioFilterActive ? ' + Filter Shio' : ''} + Jarak Lemah ${jarakLemah}</div>
            <div class="text-sm font-semibold mb-3" style="color: #f1f5f9;">Total: <span id="count-3d">${combinations3D.length}</span> angka (dari ${combinations3DUnique.length} sebelum pangkas) - 8 angka per baris</div>
            <div class="mb-4">
              <label for="filter-3d" class="block text-sm font-semibold mb-2" style="color: #f1f5f9;">Filter Angka Main Tambahan (pisahkan dengan koma)</label>
              <input type="text" id="filter-3d" placeholder="Contoh: 1,2,3,4,5" class="w-full max-w-md mx-auto px-4 py-2 rounded-lg text-center border-2 focus:outline-none focus:ring-2" style="background-color: #f1f5f9; color: #14b8a6; border-color: #f1f5f9;">
              <button onclick="applyFilter('3d')" class="mt-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all hover:opacity-80" style="background-color: #f1f5f9; color: #14b8a6;">
                ðŸ” Terapkan Filter
              </button>
            </div>
            <button onclick="copyToClipboard(document.getElementById('result-3d').value, '3D')" class="px-4 py-2 rounded-lg font-semibold text-sm transition-all hover:opacity-80" style="background-color: #f1f5f9; color: #14b8a6;">
              ðŸ“‹ Salin Kombinasi 3D
            </button>
          </div>
          <div class="text-center">
            <textarea id="result-3d" readonly class="w-full h-40 px-4 py-3 rounded-lg text-sm font-mono border-2 resize-none focus:outline-none" style="background-color: rgba(255,255,255,0.1); color: #f1f5f9; border-color: #f1f5f9;">${result3D}</textarea>
          </div>
        </div>
        
        <div class="rounded-xl p-6 mb-6" style="background-color: #f97316;">
          <div class="text-lg font-bold mb-4 text-center uppercase tracking-wide" style="color: #f1f5f9;">ðŸŽ² Kombinasi 4D (Setelah Pangkasan)</div>
          <div class="text-center mb-4">
            <div class="text-sm font-semibold mb-2" style="color: #f1f5f9;">Filter AS Kuat + KOP Kuat + Filter Angka Main${shioFilterActive ? ' + Filter Shio' : ''} + Jarak Lemah ${jarakLemah}</div>
            <div class="text-sm font-semibold mb-3" style="color: #f1f5f9;">Total: <span id="count-4d">${combinations4D.length}</span> angka (dari ${combinations4DUnique.length} sebelum pangkas) - 6 angka per baris</div>
            <div class="mb-4">
              <label for="filter-4d" class="block text-sm font-semibold mb-2" style="color: #f1f5f9;">Filter Angka Main Tambahan (pisahkan dengan koma)</label>
              <input type="text" id="filter-4d" placeholder="Contoh: 1,2,3,4,5" class="w-full max-w-md mx-auto px-4 py-2 rounded-lg text-center border-2 focus:outline-none focus:ring-2" style="background-color: #f1f5f9; color: #f97316; border-color: #f1f5f9;">
              <button onclick="applyFilter('4d')" class="mt-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all hover:opacity-80" style="background-color: #f1f5f9; color: #f97316;">
                ðŸ” Terapkan Filter
              </button>
            </div>
            <button onclick="copyToClipboard(document.getElementById('result-4d').value, '4D')" class="px-4 py-2 rounded-lg font-semibold text-sm transition-all hover:opacity-80" style="background-color: #f1f5f9; color: #f97316;">
              ðŸ“‹ Salin Kombinasi 4D
            </button>
          </div>
          <div class="text-center">
            <textarea id="result-4d" readonly class="w-full h-40 px-4 py-3 rounded-lg text-sm font-mono border-2 resize-none focus:outline-none" style="background-color: rgba(255,255,255,0.1); color: #f1f5f9; border-color: #f1f5f9;">${result4D}</textarea>
          </div>
        </div>
        
        <div class="text-center mb-6">
          <button onclick="saveToPDF()" class="px-8 py-4 rounded-xl font-bold text-lg shadow-lg transform transition-all duration-200 hover:scale-105 active:scale-95" style="background-color: #ef4444; color: #f1f5f9;">
            ðŸ“„ Simpan ke PDF
          </button>
        </div>
      `;
      
      resultContainer.classList.remove('hidden');
      resultContainer.classList.add('fade-in');
      resultContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      
      showMessage('Perhitungan berhasil!', 'success');
    }

    function showMessage(text, type) {
      const existingMsg = document.getElementById('toast-message');
      if (existingMsg) existingMsg.remove();
      
      const toast = document.createElement('div');
      toast.id = 'toast-message';
      toast.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-lg shadow-lg font-semibold z-50 fade-in';
      toast.style.backgroundColor = type === 'success' ? '#10b981' : '#ef4444';
      toast.style.color = '#ffffff';
      toast.textContent = text;
      
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 3000);
    }

    function copyToClipboard(text, type) {
      const cleanText = text.replace(/\*/g, '\n');
      
      navigator.clipboard.writeText(cleanText).then(() => {
        showMessage(`Kombinasi ${type} berhasil disalin!`, 'success');
      }).catch(() => {
        const textarea = document.createElement('textarea');
        textarea.value = cleanText;
        textarea.style.position = 'fixed';
        textarea.style.opacity = '0';
        document.body.appendChild(textarea);
        textarea.select();
        try {
          document.execCommand('copy');
          showMessage(`Kombinasi ${type} berhasil disalin!`, 'success');
        } catch (err) {
          showMessage('Gagal menyalin, coba lagi!', 'error');
        }
        document.body.removeChild(textarea);
      });
    }

    // Simpan data kombinasi untuk filter
    let originalCombinations = {
      '2d': [],
      '3d': [],
      '4d': []
    };

    function applyFilter(type) {
      const filterInput = document.getElementById(`filter-${type}`).value.trim();
      const resultTextarea = document.getElementById(`result-${type}`);
      const countSpan = document.getElementById(`count-${type}`);
      
      if (!filterInput) {
        showMessage('Masukkan angka untuk filter!', 'error');
        return;
      }
      
      // Parse filter angka
      const filterDigits = filterInput.split(',').map(d => d.trim()).filter(d => /^\d$/.test(d));
      
      if (filterDigits.length === 0) {
        showMessage('Format angka tidak valid! Gunakan format: 1,2,3', 'error');
        return;
      }
      
      // Filter kombinasi
      const original = originalCombinations[type];
      const filtered = original.filter(num => {
        const numDigits = num.split('');
        return numDigits.some(digit => filterDigits.includes(digit));
      });
      
      // Format hasil berdasarkan tipe
      let formattedResult;
      if (type === '2d') {
        // 2D: semua dalam satu baris dengan *
        formattedResult = filtered.join('*');
      } else if (type === '3d') {
        // 3D: 8 angka per baris dengan *
        const formatted = [];
        for (let i = 0; i < filtered.length; i += 8) {
          formatted.push(filtered.slice(i, i + 8).join('*'));
        }
        formattedResult = formatted.join('\n');
      } else if (type === '4d') {
        // 4D: 6 angka per baris dengan *
        const formatted = [];
        for (let i = 0; i < filtered.length; i += 6) {
          formatted.push(filtered.slice(i, i + 6).join('*'));
        }
        formattedResult = formatted.join('\n');
      }
      
      // Update textarea dan counter
      resultTextarea.value = formattedResult;
      countSpan.textContent = filtered.length;
      
      showMessage(`Filter diterapkan! ${filtered.length} angka ditemukan`, 'success');
    }

    function saveToPDF() {
      const resultContainer = document.getElementById('result-container');
      
      if (resultContainer.classList.contains('hidden')) {
        showMessage('Belum ada hasil untuk disimpan!', 'error');
        return;
      }
      
      // Buat window baru untuk print
      const printWindow = window.open('', '_blank');
      
      // Ambil semua data hasil
      const inputAngka = document.querySelector('#result-content .grid .rounded-xl:first-child .text-4xl').textContent;
      const dateInput = document.getElementById('date-input').value;
      const result2D = document.getElementById('result-2d').value;
      const result3D = document.getElementById('result-3d').value;
      const result4D = document.getElementById('result-4d').value;
      const count2D = document.getElementById('count-2d').textContent;
      const count3D = document.getElementById('count-3d').textContent;
      const count4D = document.getElementById('count-4d').textContent;
      
      // Ambil semua informasi dari result-content
      const resultContent = document.getElementById('result-content');
      const clonedContent = resultContent.cloneNode(true);
      
      // Hapus textarea dan ganti dengan text biasa untuk print
      const textareas = clonedContent.querySelectorAll('textarea');
      textareas.forEach(textarea => {
        const pre = document.createElement('pre');
        pre.style.cssText = 'white-space: pre-wrap; word-wrap: break-word; font-family: monospace; font-size: 12px; line-height: 1.5; margin: 0; padding: 10px; background-color: rgba(255,255,255,0.1); border-radius: 8px; color: #f1f5f9;';
        pre.textContent = textarea.value;
        textarea.parentNode.replaceChild(pre, textarea);
      });
      
      // Hapus tombol-tombol
      const buttons = clonedContent.querySelectorAll('button');
      buttons.forEach(btn => btn.remove());
      
      // Hapir input filter
      const inputs = clonedContent.querySelectorAll('input');
      inputs.forEach(input => input.remove());
      
      // Hapus label filter
      const labels = clonedContent.querySelectorAll('label');
      labels.forEach(label => {
        if (label.textContent.includes('Filter Angka Main')) {
          label.remove();
        }
      });
      
      printWindow.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Hasil Prediksi Angka - ${dateInput}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              padding: 20px;
              background-color: #0f172a;
              color: #f1f5f9;
            }
            h1 {
              text-align: center;
              color: #f1f5f9;
              margin-bottom: 10px;
            }
            .subtitle {
              text-align: center;
              color: #94a3b8;
              margin-bottom: 30px;
            }
            .grid {
              display: grid;
              gap: 20px;
              margin-bottom: 20px;
            }
            .rounded-xl {
              border-radius: 12px;
              padding: 20px;
            }
            @media print {
              body {
                background-color: white;
                color: black;
              }
              .rounded-xl {
                border: 1px solid #ddd;
                page-break-inside: avoid;
              }
            }
          </style>
        </head>
        <body>
          <h1>ðŸ“Š Hasil Prediksi Angka</h1>
          <div class="subtitle">Tanggal: ${dateInput || new Date().toLocaleDateString('id-ID')}</div>
          ${clonedContent.innerHTML}
          <div style="text-align: center; margin-top: 30px; padding-top: 20px; border-top: 2px solid #64748b; color: #94a3b8; font-size: 12px;">
            Dicetak pada: ${new Date().toLocaleString('id-ID')}
          </div>
        </body>
        </html>
      `);
      
      printWindow.document.close();
      
      // Tunggu sebentar lalu print
      setTimeout(() => {
        printWindow.print();
      }, 500);
      
      showMessage('Membuka dialog print...', 'success');
    }

    // Set tanggal hari ini sebagai default
    const todayDate = new Date();
    const todayString = todayDate.toISOString().split('T')[0];
    document.getElementById('date-input').value = todayString;
    
    document.getElementById('prediction-form').addEventListener('submit', handleFormSubmit);
    
    const inputs = ['as-input', 'kop-input', 'kepala-input', 'ekor-input'];
    inputs.forEach((id, index) => {
      const input = document.getElementById(id);
      input.addEventListener('input', (e) => {
        e.target.value = e.target.value.replace(/[^0-9]/g, '');
        if (e.target.value.length === 1 && index < inputs.length - 1) {
          document.getElementById(inputs[index + 1]).focus();
        }
      });
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Backspace' && e.target.value === '' && index > 0) {
          document.getElementById(inputs[index - 1]).focus();
        }
      });
    });

    async function onConfigChange(config) {
      const baseFontStack = 'system-ui, -apple-system, sans-serif';
      const customFont = config.font_family || defaultConfig.font_family;
      const baseSize = config.font_size || defaultConfig.font_size;
      
      document.body.style.backgroundColor = config.background_color || defaultConfig.background_color;
      document.body.style.color = config.text_color || defaultConfig.text_color;
      document.body.style.fontFamily = `${customFont}, ${baseFontStack}`;
      
      document.getElementById('main-title').textContent = config.main_title || defaultConfig.main_title;
      document.getElementById('main-title').style.fontSize = `${baseSize * 2}px`;
      
      document.getElementById('subtitle').textContent = config.subtitle || defaultConfig.subtitle;
      document.getElementById('subtitle').style.fontSize = `${baseSize * 1.25}px`;
      
      document.getElementById('submit-text').textContent = config.submit_button || defaultConfig.submit_button;
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => {
                config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => config.surface_color || defaultConfig.surface_color,
              set: (value) => {
                config.surface_color = value;
                window.elementSdk.setConfig({ surface_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => config.primary_action_color || defaultConfig.primary_action_color,
              set: (value) => {
                config.primary_action_color = value;
                window.elementSdk.setConfig({ primary_action_color: value });
              }
            },
            {
              get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
              set: (value) => {
                config.secondary_action_color = value;
                window.elementSdk.setConfig({ secondary_action_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: {
            get: () => config.font_family || defaultConfig.font_family,
            set: (value) => {
              config.font_family = value;
              window.elementSdk.setConfig({ font_family: value });
            }
          },
          fontSizeable: {
            get: () => config.font_size || defaultConfig.font_size,
            set: (value) => {
              config.font_size = value;
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }),
        mapToEditPanelValues: (config) => new Map([
          ["main_title", config.main_title || defaultConfig.main_title],
          ["subtitle", config.subtitle || defaultConfig.subtitle],
          ["table_title", config.table_title || defaultConfig.table_title],
          ["input_title", config.input_title || defaultConfig.input_title],
          ["submit_button", config.submit_button || defaultConfig.submit_button],
          ["prediction_button", config.prediction_button || defaultConfig.prediction_button],
          ["result_label", config.result_label || defaultConfig.result_label]
        ])
      });
    }

    onConfigChange(defaultConfig);
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99b74f03f0ec9c62',t:'MTc2MjYyODM3OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
